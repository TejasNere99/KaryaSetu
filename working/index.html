<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>
    <div class="main">
        <div class="navbar" id="navbar" style="position: sticky;">
            <div class="logo navbar-opt" style="margin-bottom: 1rem; margin-left: 6rem;">
                <img src="./assets/logo1.PNG">
                <h2 data-i18n style="color: #0333addb; font-weight: 700;">KaryaSetu</h2>
            </div>
            <div class="options" id="navbar-options">
                <a data-i18n href="index.html">Home</a>
                <a data-i18n href="howItWorks.html">How it works</a>
                <a data-i18n href="contactUs.html">Contact us</a>
                <a data-i18n href="aboutus.html">About us</a>
                <!-- üåê Language Switcher -->
                <select id="langSwitcher" style="margin-left: 1rem; padding: 4px; border-radius: 6px;">
                    <option value="en">English</option>
                    <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                    <option value="mr">‡§Æ‡§∞‡§æ‡§†‡•Ä</option>
                </select>
            </div>
            <div class="login-opt navbar-opt" id="login-opt" style="margin-bottom: 1rem; margin-right: 5rem;">
                <button data-i18n id="login-btn" type="button" class="btn btn-primary btn-lg">Login</button>
            </div>
            <div class="profile-opt navbar-opt" id="profile-section" style="display:none;">
                <a href="#" class="profile-link" id="profile-link" style="margin-right: 2rem;">
                    <div class="profile-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <span id="profile-name"></span>
                </a>
                <button data-i18n id="logout-btn" type="button" class="btn btn-primary btn-lg">Logout</button>
            </div>
            <!-- <button id="logout-btn" type="button" class="btn btn-primary btn-lg" style="display: none;">Logout</button> -->
        </div>
        <div class="main-content">
            <div class="box-1 box">
                <img src="./assets/logo1.PNG">
                <h1 style="font-size: 3rem; color: rgb(255, 136, 0); font-weight: 900;">‡§Ü‡§§‡•ç‡§Æ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞ ‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§∏‡•á‡§§‡•Å </h1>
                <h1 style="font-size: 3rem; color: rgb(0, 170, 147); font-weight: 900;">‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§∏‡•á‡§§‡•Å</h1>
                <div id="para" style="margin-top: 2rem; max-width: 550px; margin-left: 70px;">
                    <p data-i18n style="font-size: 1.4rem;">KaryaSetu connects skilled laborers with the people who need
                        them simply, directly, and with trust.</p>
                </div>

            </div>
            <div class="box-2 box">
                <img src="./assets/first_img.JPG">
            </div>
        </div>
        <div class="categories">
            <h1 data-i18n>Explore Service Categories</h1>
            <div class="categories-grid">
                <a href="/category/plumber" class="category-card">
                    <i class="fas fa-faucet"></i>
                    <h3 data-i18n>Plumber</h3>
                </a>
                <a href="/category/electrician" class="category-card">
                    <i class="fas fa-bolt"></i>
                    <h3 data-i18n>Electrician</h3>
                </a>
                <a href="/category/carpenter" class="category-card">
                    <i class="fas fa-hammer"></i>
                    <h3 data-i18n>Carpenter</h3>
                </a>
                <a href="/category/painter" class="category-card">
                    <i class="fas fa-paint-roller"></i>
                    <h3 data-i18n>Painter</h3>
                </a>
                <a href="/category/driver" class="category-card">
                    <i class="fa-solid fa-taxi"></i>
                    <h3 data-i18n style="margin-bottom: 1rem;">Driver</h3>
                </a>
            </div>
        </div>
        <div class="working">
            <h1 data-i18n>How KaryaSetu Works</h1>
            <div class="working-grid">
                <div class="box">
                    <div class="step-icon"><i class="fas fa-list-alt" style="color: blue;"></i></div>
                    <h3 data-i18n>1. Choose a Category</h3>
                    <p data-i18n>Browse through various service categories to find the skill you need.</p>
                </div>
                <div class="box">
                    <div class="step-icon"><i class="fas fa-user-check" style="color: orangered;"></i></div>
                    <h3 data-i18n>2. Select a Laborer</h3>
                    <p data-i18n>View profiles, ratings, and experience to pick the best professional.</p>
                </div>
                <div class="box">
                    <div class="step-icon"><i class="fas fa-handshake" style="color: greenyellow;"></i></div>
                    <h3 data-i18n>3. Send Request</h3>
                    <p data-i18n>Send a request directly and get your work done efficiently.</p>
                </div>
            </div>
        </div>
        <div class="ready-box">
            <h1 data-i18n>Ready to Get Started?</h1>
            <p data-i18n>Join KaryaSetu today and connect with skilled laborers in your area.</p>
            <button data-i18n id="worker-btn" type="button" class="btn btn-primary btn-lg">Join as a worker</button>
            <button data-i18n id="user-btn" type="button" class="btn btn-primary btn-lg">Find a worker</button>
        </div>
    </div>
    <div class="footer">
        <div class="footer-content">
            <div class="box1">
                <div class="logo navbar-opt" id="footer-logo" style=" margin-left: 0rem;">
                    <img src="./assets/logo1.PNG">
                    <h4 data-i18n style="color: white; font-weight: 700;">KaryaSetu</h4>
                </div>
                <p data-i18n style="color: rgba(255, 255, 255, 0.619);">India‚Äôs trusted platform connecting people with
                    skilled laborers and ensuring quick, reliable services for every need</p>
                <div class="icons">
                    <a href="https://www.facebook.com/" target="_blank"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/" target="_blank"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.linkedin.com/" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://twitter.com/" target="_blank"><i class="fab fa-twitter"></i></a>
                </div>
            </div>
            <div class="box2 footer-box">
                <h5 data-i18n style="color: white;">For Users</h5>
                <a data-i18n href="userReg.html" id="footer-register">Register</a>
                <a data-i18n href="#" id="footer-categories">Explore categories</a>
            </div>
            <div class="box3 footer-box">
                <h5 data-i18n style="color: white;">For Workers</h5>
                <a data-i18n href="workerLogin.html" id="footer-login">Login</a>
                <a data-i18n href="workerReg.html">Build Profile</a>
            </div>
            <div class="box4 footer-box">
                <h5 data-i18n style="color: white;">Support</h5>
                <a data-i18n href="contactUs.html" id="footer-contact">Contact Us</a>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
    <script>
        window.onload = () => {
            const isLoggedIn = localStorage.getItem("isUserLoggedIn");
            const userName = localStorage.getItem("userName");
            const userId = localStorage.getItem("userId"); // ‚úÖ store kar login ke waqt

            console.log("üîç Login Status:", isLoggedIn);
            console.log("üîç User Name:", userName);
            console.log("üîç User ID:", userId, "Type:", typeof userId);

            if (isLoggedIn === "true") {
                document.getElementById("login-opt").style.display = "none";
                document.getElementById("navbar-options").style.marginRight = "0rem";
                document.getElementById("login-btn").style.display = "none";
                document.getElementById("profile-section").style.display = "flex";
                document.getElementById("profile-name").innerText = userName;
                // Profile link ko userId ke saath set karo
                const profileLink = `/user/${userId}`;
                console.log("üîó Profile Link:", profileLink);
                document.getElementById("profile-link").href = profileLink;

                // Add click event listener for debugging
                document.getElementById("profile-link").addEventListener("click", function (e) {
                    console.log("üñ±Ô∏è Profile clicked!");
                    console.log("üîó Current href:", this.href);
                    console.log("üîç User ID from localStorage:", localStorage.getItem("userId"));
                    console.log("üîç Is logged in:", localStorage.getItem("isUserLoggedIn"));
                });
            } else if (localStorage.getItem("isWorkerLoggedIn") === "true") {
                // If worker logged in, show name and link to worker dashboard
                const workerName = localStorage.getItem("workerName");
                const workerId = localStorage.getItem("workerId");
                document.getElementById("login-opt").style.display = "none";
                document.getElementById("navbar-options").style.marginRight = "0rem";
                document.getElementById("login-btn").style.display = "none";
                document.getElementById("profile-section").style.display = "flex";
                document.getElementById("profile-name").innerText = workerName;
                const workerProfileLink = `/worker/${workerId}`;
                document.getElementById("profile-link").href = workerProfileLink;
            } else if (isLoggedIn === "false" || isLoggedIn === null) {
                document.getElementById("login-opt").style.display = "block";
                document.getElementById("navbar-options").style.marginRight = "5rem";
                document.getElementById("login-btn").style.display = "block";
                document.getElementById("profile-section").style.display = "none";
            }
        };
    </script>

</body>

</html>